
# SConstrunct for dtl test

flags    = ['-Wall', '-O2']
libs     = ['gtest', 'pthread']
includes = ['..']
target   = 'dtl_test'

env  = Environment(CPPFLAGS=flags,
                   LIBS=libs,
                   CPPPATH=includes,
                   )

conf = Configure(env);
[ conf.CheckLib(lib) for lib in libs ]

test = env.Program(target,
                   Glob('*.cpp'))

test_alias = env.Alias('check',
                       test,
                       test[0].abspath)

env.AlwaysBuild(test_alias)
